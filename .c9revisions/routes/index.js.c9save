{"ts":1340899069558,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"exports.index = function(req, res){\n  res.render('index', { title: 'Express' })\n};\n\nexports.image = function(req, res){\n  res.render('image', { title: 'Image Page' })\n};"]],"start1":0,"start2":0,"length1":0,"length2":169}]],"length":169}
{"contributors":[],"silentsave":false,"ts":1342643681017,"patch":[[{"diffs":[[1,"var model = require('../models');\n\n"],[0,"exports.index = "]],"start1":0,"start2":0,"length1":16,"length2":51},{"diffs":[[0,"nction(req, res)"],[1," "],[0,"{\n"],[1,"  "],[0,"  res.render('in"]],"start1":53,"start2":53,"length1":34,"length2":37},{"diffs":[[0,"r('index', {"],[1,"\n       "],[0," title: 'Exp"]],"start1":85,"start2":85,"length1":24,"length2":32},{"diffs":[[0,"Express'"],[1,"\n   "],[0," })\n};\n\n"]],"start1":114,"start2":114,"length1":16,"length2":20},{"diffs":[[0,"eq, res)"],[1," "],[0,"{\n"],[1,"    if (req.method == 'GET') {\n      "],[0,"  res.re"]],"start1":160,"start2":160,"length1":18,"length2":56},{"diffs":[[0,"mage', {"],[1,"\n           "],[0," title: "]],"start1":223,"start2":223,"length1":16,"length2":28},{"diffs":[[0,"ge Page'"],[1,"\n        })\n        model.saveImage('foo', 'bar');\n    }\n    else if (req.method == 'POST') {\n        // Check body.length for flood attack or faulty client\n        \n        var imageFileName = req.body.imageFileName;\n        var user = req.body.user;\n        model.saveImage(imageFileName, user);\n   "],[0," }"],[-1,")"],[0,"\n};"]],"start1":255,"start2":255,"length1":14,"length2":314}]],"length":569,"saved":false}
{"ts":1342643691126,"patch":[[{"diffs":[[0," })\n"],[-1,"        model.saveImage('foo', 'bar');\n"],[0,"    "]],"start1":271,"start2":271,"length1":47,"length2":8}]],"length":530,"saved":false}
{"contributors":[],"silentsave":false,"ts":1346687797166,"patch":[[{"diffs":[[0,"models')"],[-1,";\n"],[1,",\n    url = require('url');\n    "],[0,"\nexports"]],"start1":24,"start2":24,"length1":18,"length2":48},{"diffs":[[0,"req, res) {\n"],[1,"        if (req.method == 'GET') {\n            console.log(req.url);\n            var urlObj = url.parse(req.url, true);\n             var quantity = parseInt(urlObj.query[\"quantity\"]);\n             var audioLanguage = urlObj.query[\"language\"];\n            model.getImages(quantity, audioLanguage, function(err, images) {\n            return res.send(images);        \n        });\n    }\n    /*\n"],[0,"    if (req."]],"start1":189,"start2":189,"length1":24,"length2":414},{"diffs":[[0,"hod == 'GET') {\n"],[1,"        \n        \n"],[0,"        res.rend"]],"start1":606,"start2":606,"length1":32,"length2":50},{"diffs":[[0,"     })\n"],[1,"        \n        var image = model.getImages();\n        return res.send(image);\n        \n"],[0,"    }"],[1,"*/"],[0,"\n    els"]],"start1":705,"start2":705,"length1":21,"length2":112},{"diffs":[[0,"    "],[-1,"model.saveImage(imageFileName, user);"],[1,"var usrLanguagePref = req.body.userLanguagePref;\n        model.saveImage(imageFileName, user, usrLanguagePref);\n    }\n};\n\n\nexports.audio = function(req, res) {\n        if (req.method == 'GET') {\n\n    }\n\n    else if (req.method == 'POST') {\n        \n        var urlObj = url.parse(req.url, true);\n        var image = req.body.image;\n        var user = req.body.user;\n        var audio = req.body.audio;\n        var lang = req.body.lang;\n        \n        model.saveAudio(image, user, audio, lang);\n\n    }\n};\n\nexports.user = function(req, res) {\n        if (req.method == 'GET') {\n\n    }\n\n    else if (req.method == 'POST') {\n        \n        var urlObj = url.parse(req.url, true);\n        var userID = req.body.user;\n        var nativeLanguage = req.body.nativeLanguage;\n        var learnLanguage = req.body.learnLanguage;\n        var emailAddress = req.body.emailAddress;\n        \n        model.saveUser(userID, nativeLanguage, learnLanguage, emailAddress);\n\n    }\n};\n\nexports.queue = function(req, res) {\n        if (req.method == 'GET') {\n            var urlObj = url.parse(req.url, true);\n            var quantity = parseInt(urlObj.query[\"quantity\"]);\n            var language = urlObj.query[\"language\"];\n            model.getImages(quantity, language, function(err, images) {\n            return res.send(images);\n            });\n\n    }\n\n    else if (req.method == 'POST') {\n        \n\n"],[0,"\n   "]],"start1":1009,"start2":1009,"length1":45,"length2":1395}]],"length":2409,"saved":false}
